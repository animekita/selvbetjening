{% extends "sadmin2/site.html" %}

{% block head %}
{{ block.super }}

{% if registrations_axis %}
<script src="{{ STATIC_URL }}sadmin2/js/vendor/highcharts/highcharts.js" type="text/javascript"></script>
<script type="text/javascript">

$(document).ready(function() {

    var registrationchart = new Highcharts.Chart({
   chart: {
      renderTo: 'registrationchart',
      defaultSeriesType: 'line',
      margin: [50, 150, 60, 80]
   },
   title: {
      text: 'Registreringer',
      style: {
         margin: '10px 100px 0 0' // center it
      }
   },
   xAxis: {
      categories: {{registrations_axis|safe}},
      title: {
         text: 'Uge'
      },
      labels: {
         rotation: 45,
         align: 'right'
      }
   },
   yAxis: {
      title: {
         text: 'Antal'
      },
      plotLines: [{
         value: 0,
         width: 1,
         color: '#808080'
      }]
   },
   tooltip: {
      formatter: function() {
                return '<b>Uge</b> ' + this.x + '<br><b>Antal</b> ' + this.y;
      }
   },
   legend: {
      layout: 'horizontal',
      style: {
         left: 'auto',
         bottom: 'auto',
         right: '10px',
         top: '100px'
      }
   },
   series: [{
      name: 'Tilmeldt',
      data: {{registrations_data|safe}}
   },
   {
      name: 'Tilmeldt (akk.)',
      data: {{registrations_data_acc|safe}}
   },
   {
      name: 'Godkendt',
      data: {{accepted_data|safe}}
   },
   {
      name: 'Godkendt (akk.)',
      data: {{accepted_data_acc|safe}}
   }]
});

});

</script>
{% endif %}

{% endblock %}


{% block content %}

<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Tilmeldinger</h3>
  </div>
  <div class="panel-body">

    {% if registrations_axis %}
       <div id="registrationchart" style="width:800px; height: 400px;"></div>
    {% endif %}

  </div>
</div>

{% endblock %}